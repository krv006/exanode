/etc/nginx/sites-enabled/boxhub

server {
    listen       8082;
    server_name  176.124.200.170;

    location = /favicon.ico { access_log off; log_not_found off; }

    location / {
        include proxy_params;
        proxy_pass http://unix:/var/www/boxhub/click.sock;
    }

}

   api.qabul.lms-impulse.uz



[Unit]
Description=Celery Worker (BoxHub)
After=docker.service
Requires=docker.service

[Service]
Type=simple
User=root
WorkingDirectory=/var/www/boxhub
ExecStart=/var/www/boxhub/.venv/bin/celery -A root worker -l info
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target






/etc/systemd/system/rv_click.service


[Unit]
Description=gunicorn daemon
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/var/www/click
ExecStart=/var/www/click/venv/bin/gunicorn --workers 3 --bind unix:/var/www/click/click.sock root.wsgi:application

[Install]
WantedBy=multi-user.target



systemctl start rv_click.service
systemctl enable rv_click.service
systemctl status rv_click.service


systemctl start service
systemctl enable service
systemctl stop service
systemctl restart service
systemctl disable service




1. comp -> github, gitlab, bitbucket -> server

2. comp -> server

3. ci/cd


scp file root@IP:/var/www
scp -P 22007 file root@IP:/var/www
python3 manage.py runserver 0:8004

ufw status
ufw allow 8004



/etc/nginx/sites-available/
ln -s /etc/nginx/sites-available/rv_nginx /etc/nginx/sites-enabled/

/etc/nginx/sites-enabled/



postgres

ssl, github, oauth2, firewall




1. backend, kutubxonalar, run
2. service file, check
3. nginx file
4. domain check, + ssl

nginx -t


certbot --nginx -d imtihon.lms-impulse.uz
certbot --nginx -d qabul.lms-impulse.uz



https://www.youtube.com/watch?v=gyO9qagO07k&list=PLk18gAgM3ns43Z2e3QSot2ki3lUfFb5Ii



======================= Celery Beat Service =======================
[Unit]
Description=Celery Beat Service
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/var/www/projects/E-english
Environment="PATH=/var/www/projects/E-english/.venv/bin"
ExecStart=/var/www/projects/E-english/.venv/bin/celery -A root beat --loglevel=info

[Install]
WantedBy=multi-user.target


======================= Celery Service =======================


[Unit]
Description=Celery Service
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/var/www/projects/E-english
Environment="PATH=/var/www/projects/E-english/.venv/bin"
ExecStart=/var/www/projects/E-english/.venv/bin/celery -A root worker --loglevel=info




mv E-English/ e-english -> name di ozgartrgani kerak bolaid







########################################################################################################################################################################################################




/etc/nginx/sites-enabled/(nginx_file_nomi)

server {
    server_name  128.199.168.206;

    location = /favicon.ico { access_log off; log_not_found off; }

    location /static/ {
        root /var/www/p23/dilshod/alijahon;
    }

    location /media/ {
        root /var/www/p23/dilshod/alijahon;
    }

    location / {
        include proxy_params;
        proxy_pass http://unix:/var/www/p23/dilshod/alijahon/falcon.sock;
    }
}







/etc/systemd/system/alijahon.service


[Unit]
Description=gunicorn daemon
After=network.target

[Service]
User=root
Group=www-data
WorkingDirectory=/var/www/p23/dilshod/alijahon
ExecStart=/var/www/p23/dilshod/alijahon/.venv/bin/gunicorn --workers 1 --bind unix:/var/www/p23/dilshod/alijahon/falcon.sock root.wsgi:application

[Install]
WantedBy=multi-user.target


/var/www/p23/dilshod/alijahon


systemctl start (service_fayl_nomi).service
systemctl start dilshod_alijahon.service
systemctl enable (service_fayl_nomi).service


systemctl start service
systemctl enable service
systemctl stop service
systemctl restart service

systemctl stop alijahon.service
systemctl enable alijahon.service
systemctl start alijahon.service
systemctl status alijahon.service
systemctl restart alijahon.service




1. comp -> github, gitlab, bitbucket -> server

2. comp -> server



scp file root@IP:/var/www
python3 manage.py runserver 0:8004



/etc/nginx/sites-available/falcon
ln -s /etc/nginx/sites-available/dilshod_alijahon /etc/nginx/sites-enabled/

/etc/nginx/sites-enabled/

